<!-- This template is used to add a payment method for the monthly membership. -->
{% extends "base.html" %}
{% load static %}
{% load i18n %}

{% block title %}
    Add Payment Method
{% endblock %}

{% block content %}
<div class="page-header">
    <h2>{% trans "Add Payment Method" %}</h2>
</div>

<main class="container">
    <form id="payment-form">
        <div id="card-element" class="form-control">
            <!-- A Stripe Element will be inserted here. -->
        </div>
        <div id="card-errors" class="alert alert-danger mt-3" role="alert" style="display: none;"></div>
        <button id="submit-button" class="btn btn-primary mt-4">
            <span id="button-text">{% trans "Add Payment Method For Monthly Membership" %}</span>
            <span id="spinner" class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display: none;"></span>
        </button>
    </form>
</main>

{% block additional_scripts %}
<script src="https://js.stripe.com/v3/"></script>
<script>
    // Make these variables available globally for scripts.js
    window.stripePublicKey = "{{ stripe_public_key }}";
    window.addPaymentMethodUrl = "{% url 'add_payment_method' %}";
    window.csrfToken = "{{ csrf_token }}";
</script>
{% endblock %}
{% endblock %}
