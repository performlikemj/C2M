<!-- This template is used to collect payment from the user. -->
{% extends "base.html" %}
{% load static %}
{% load i18n %}

{% block title %}
  {% trans "Collect Payment" %}
{% endblock %}


{% block content %}
<h2>{% trans "Payment Information" %}</h2>
<form id="payment-form">
  <div id="card-element"><!-- A Stripe Element will be inserted here. --></div>
  <button type="submit">{% trans "Submit Payment" %}</button>
  <div id="card-errors" role="alert"></div>
</form>
{% endblock %}

{% block additional_scripts %}
<script src="https://js.stripe.com/v3/"></script>
<script>
  // Make these variables available globally for scripts.js
  window.stripePublicKey = "{{ stripe_public_key }}";
  window.createCheckoutSessionUrl = "{% url 'create_checkout_session' %}";
  window.csrfToken = "{{ csrf_token }}";
  window.membershipTypeId = "{{ membership_type_id }}";
</script>
{% endblock %}
{% endblock %}
